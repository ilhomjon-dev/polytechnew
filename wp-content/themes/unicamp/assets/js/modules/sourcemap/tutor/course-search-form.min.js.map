{"version":3,"sources":["course-search-form.js"],"names":["$","document","ready","on","baseLink","this","attr","nameValue","find","val","addUrlParam","window","location","href","name","level","category","parseInt","search","key","encodeURI","re","RegExp","separator","indexOf","match","replace","jQuery"],"mappings":"AAAA,CACA,SAAAA,GACA,aAEAA,EAAAC,QAAA,EAAAC,MAAA,WACAF,EAAA,uCAAA,EAAAG,GAAA,SAAA,eAAA,WACA,IAAAC,EAAAJ,EAAAK,IAAA,EAAAC,KAAA,QAAA,EACAC,EAAAP,EAAAK,IAAA,EAAAG,KAAA,2BAAA,EAAAC,IAAA,EASA,MAPA,KAAAF,IACAH,EAAAM,EAAAN,EAAA,cAAAG,CAAA,EACAH,EAAAM,EAAAN,EAAA,YAAA,GAAA,GAGAO,OAAAC,SAAAC,KAAAT,EAEA,CAAA,CACA,CAAA,EAEAJ,EAAA,uCAAA,EAAAG,GAAA,SAAA,OAAA,WACA,IAAAC,EAAAJ,EAAAK,IAAA,EAAAC,KAAA,QAAA,EACAQ,EAAAd,EAAAK,IAAA,EAAAG,KAAA,2BAAA,EAAAC,IAAA,EACAM,EAAAf,EAAAK,IAAA,EAAAG,KAAA,gBAAA,EAAAC,IAAA,EACAO,EAAAC,SAAAjB,EAAAK,IAAA,EAAAG,KAAA,iCAAA,EAAAC,IAAA,CAAA,EACAG,EAAAK,SAAAjB,EAAAK,IAAA,EAAAG,KAAA,iCAAA,EAAAC,IAAA,CAAA,EAwBA,MAtBA,KAAAK,IACAV,EAAAM,EAAAN,EAAA,cAAAU,CAAA,EACAV,EAAAM,EAAAN,EAAA,YAAA,GAAA,GAGA,IAAAY,IACAZ,EAAAM,EAAAN,EAAA,yBAAAY,CAAA,EACAZ,EAAAM,EAAAN,EAAA,YAAA,GAAA,GAGA,IAAAQ,IACAR,EAAAM,EAAAN,EAAA,yBAAAQ,CAAA,EACAR,EAAAM,EAAAN,EAAA,YAAA,GAAA,GAGA,KAAAW,IACAX,EAAAM,EAAAN,EAAA,QAAAW,CAAA,EACAX,EAAAM,EAAAN,EAAA,YAAA,GAAA,GAGAO,OAAAC,SAAAC,KAAAT,EAEA,CAAA,CACA,CAAA,CACA,CAAA,EAQA,IAAAM,EAAA,SAAAQ,EAAAC,EAAAV,GACAU,EAAAC,UAAAD,CAAA,EACAV,EAAAW,UAAAX,CAAA,EAEA,IAAAY,EAAA,IAAAC,OAAA,SAAAH,EAAA,YAAA,GAAA,EACAI,EAAA,CAAA,IAAAL,EAAAM,QAAA,GAAA,EAAA,IAAA,IASA,OANAN,EAAAO,MAAAJ,CAAA,EACAH,EAAAA,EAAAQ,QAAAL,EAAA,KAAAF,EAAA,IAAAV,EAAA,IAAA,EAEAS,GAAAK,EAAAJ,EAAA,IAAAV,EAGAS,CACA,CAEA,EAAAS,MACA","file":"../../../tutor/course-search-form.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t'use strict';\n\n\t\t$( document ).ready( function() {\n\t\t\t$( '.unicamp-wp-widget-course-name-filter' ).on( 'submit', '.search-form', function() {\n\t\t\t\tvar baseLink = $( this ).attr( 'action' );\n\t\t\t\tvar nameValue = $( this ).find( 'input[name=\"filter_name\"]' ).val();\n\n\t\t\t\tif ( '' !== nameValue ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_name', nameValue );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\twindow.location.href = baseLink;\n\n\t\t\t\treturn false;\n\t\t\t} );\n\n\t\t\t$( '.unicamp-wp-widget-course-form-filter' ).on( 'submit', 'form', function() {\n\t\t\t\tvar baseLink = $( this ).attr( 'action' );\n\t\t\t\tvar name = $( this ).find( 'input[name=\"filter_name\"]' ).val();\n\t\t\t\tvar level = $( this ).find( '[name=\"level\"]' ).val();\n\t\t\t\tvar category = parseInt( $( this ).find( '[name=\"filter_course-category\"]' ).val() );\n\t\t\t\tvar location = parseInt( $( this ).find( '[name=\"filter_course-location\"]' ).val() );\n\n\t\t\t\tif ( '' !== name ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_name', name );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\tif ( 0 !== category ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_course-category', category );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\tif ( 0 !== location ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filter_course-location', location );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\tif ( '' !== level ) {\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'level', level );\n\t\t\t\t\tbaseLink = addUrlParam( baseLink, 'filtering', '1' );\n\t\t\t\t}\n\n\t\t\t\twindow.location.href = baseLink;\n\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t} );\n\n\t\t/**\n\t\t * Add a URL parameter (or changing it if it already exists)\n\t\t * @param {string} search - This is typically document.location.search\n\t\t * @param {string} key - The key to set\n\t\t * @param {string} val - Value\n\t\t */\n\t\tvar addUrlParam = function( search, key, val ) {\n\t\t\tkey = encodeURI( key );\n\t\t\tval = encodeURI( val );\n\n\t\t\tvar re = new RegExp( \"([?&])\" + key + \"=.*?(&|$)\", \"i\" );\n\t\t\tvar separator = search.indexOf( '?' ) !== - 1 ? \"&\" : \"?\";\n\n\t\t\t// Update value if key exist.\n\t\t\tif ( search.match( re ) ) {\n\t\t\t\tsearch = search.replace( re, '$1' + key + \"=\" + val + '$2' );\n\t\t\t} else {\n\t\t\t\tsearch += separator + key + '=' + val;\n\t\t\t}\n\n\t\t\treturn search;\n\t\t};\n\n\t}( jQuery )\n);\n"]}